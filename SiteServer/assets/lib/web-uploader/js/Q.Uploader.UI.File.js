!function(i,e){"use strict";function s(i,e){i.className+=" "+e}function a(i,e){i&&(i.innerHTML=e||"")}var t=Q.def,d=Q.getFirst,l=Q.getLast,v=Q.getNext,c=Q.createEle,n=Q.formatSize,o=Q.event.add,r=Q.Uploader,u=r.Lang;r.UI.File={init:function(){var i=this.ops.view;i&&s(i,"ui-file "+(this.html5?"html5":"html4"))},draw:function(i){var e=this,s=e.ops,a=s.view;if(a){var v=s.button||{},n=t(u.cancel||v.cancel,"取消"),r=t(u.remove||v.remove,"删除"),p=i.name,f='<div class="fl"><div class="u-name" title="'+p+'">'+p+'</div></div><div class="fr"><div class="u-size"></div><div class="u-speed">--/s</div><div class="u-progress-bar"><div class="u-progress" style="width:1%;"></div></div><div class="u-detail">0%</div><div class="u-state"></div><div class="u-op"><a class="u-op-cancel">'+n+'</a><a class="u-op-remove">'+r+'</a></div></div><div class="clear"></div>',h=i.id,m=c("div","u-item",f);m.taskId=h,i.box=m,a.appendChild(m);var x=l(m.childNodes[1]),g=d(x),Q=l(x);o(g,"click",function(){e.cancel(h)}),o(Q,"click",function(){e.remove(h),a.removeChild(m)}),e.update(i)}},update:function(i){if(i&&i.box){var e=i.total||i.size,s=i.loaded,t=i.state,l=i.box.childNodes[1],c=d(l),o=v(c),u=v(o),p=d(u),f=v(u);if(a(v(f),r.getStatusText(t)),!(0>e)){var h="";if(this.html5&&null!=s&&s>=0){var m;t==r.PROCESSING?"100.0"==(m=Math.min(100*s/e,100).toFixed(1))&&(m="99.9"):t==r.COMPLETE&&(m="100"),m&&(m+="%",p.style.width=m,a(f,m)),h='<span class="u-loaded">'+n(s)+"</span> / ";var x=i.avgSpeed||i.speed;a(o,n(x)+"/s")}a(c,h+='<span class="u-total">'+n(e)+"</span>")}}},over:function(i){i&&i.box&&s(i.box,"u-over")}},r.extend(r.UI.File)}(window);
var apiUtils={Api:function(t){this.getQueryStringByName=function(t){var e=location.search.match(new RegExp("[?&]"+t+"=([^&]+)","i"));return!e||e.length<1?"":decodeURIComponent(e[1])},this.apiUrl=t||"https://api.siteserver.cn/v1.1",this._getURL=function(t,e,r){if(t+=/\?/.test(t)?"&":"?","object"==typeof e&&"GET"===r){var s=[];for(var n in e)if(e.hasOwnProperty(n)){var i=encodeURIComponent(n),a=encodeURIComponent(e[n]);s.push(i+"="+a)}t+="&"+s.join("&")}return(t+"&"+(new Date).getTime()).replace("?&","?")},this.request=function(t,e,r,s){var n=new XMLHttpRequest;n.open(t,this._getURL(e,r,t),!0),n.withCredentials=!0,s&&(n.onreadystatechange=function(){if(4===n.readyState)if(n.status<400)s(null,apiUtils.parse(n.responseText),n.status);else{var t=apiUtils.parse(n.responseText);s({status:n.status,message:t.message||apiUtils.errorCode(n.status)},null,n.status)}}),n.dataType="json",n.setRequestHeader("Accept","application/vnd.siteserver+json; version=1"),n.setRequestHeader("Content-Type","application/json;charset=UTF-8"),r?n.send(JSON.stringify(r)):n.send()},this.get=function(t,e,r,s){var n=this.apiUrl;return r&&(n+="/"+r,s&&(n+="/"+s)),this.request("GET",n,t,e)},this.getAt=function(t,e,r,s,n){return t=this.apiUrl+"/"+t,s&&(t+="/"+s,n&&(t+="/"+n)),this.request("GET",t,e,r)},this.post=function(t,e,r,s){var n=this.apiUrl;return r&&(n+="/"+r,s&&(n+="/"+s)),this.request("POST",n,t,e)},this.postAt=function(t,e,r,s,n){return t=this.apiUrl+"/"+t,s&&(t+="/"+s,n&&(t+="/"+n)),this.request("POST",t,e,r)},this.put=function(t,e,r,s){var n=this.apiUrl;return r&&(n+="/"+r,s&&(n+="/"+s)),this.request("PUT",n,t,e)},this.putAt=function(t,e,r,s,n){return t=this.apiUrl+"/"+t,s&&(t+="/"+s,n&&(t+="/"+n)),this.request("PUT",t,e,r)},this.delete=function(t,e,r,s){var n=this.apiUrl;return r&&(n+="/"+r,s&&(n+="/"+s)),this.request("DELETE",n,t,e)},this.deleteAt=function(t,e,r,s,n){t=this.apiUrl+"/"+t;return s&&(t+="/"+s,n&&(t+="/"+n)),this.request("DELETE",t,e,r)},this.patch=function(t,e,r,s){var n=this.apiUrl;return r&&(n+="/"+r,s&&(n+="/"+s)),this.request("PATCH",n,t,e)},this.patchAt=function(t,e,r,s,n){t=this.apiUrl+"/"+t;return s&&(t+="/"+s,n&&(t+="/"+n)),this.request("PATCH",t,e,r)}},parse:function(t){try{return t?JSON.parse(t):{}}catch(t){return{}}},errorCode:function(t){switch(t){case 400:return"Bad Request";case 401:return"Unauthorized";case 402:return"Payment Required";case 403:return"Forbidden";case 404:return"Not Found";case 405:return"Method Not Allowed";case 406:return"Not Acceptable";case 407:return"Proxy Authentication Required";case 408:return"Request Timeout";case 409:return"Conflict";case 410:return"Gone";case 411:return"Length Required";case 500:return"Internal Server Error"}return"Unknown Error"}};